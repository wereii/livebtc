(this.webpackJsonplivebtc=this.webpackJsonplivebtc||[]).push([[0],{23:function(e,n,t){e.exports=t(38)},28:function(e,n,t){},29:function(e,n,t){},30:function(e,n,t){},38:function(e,n,t){"use strict";t.r(n);var i=t(1),r=t.n(i),c=t(18),a=t.n(c),o=(t(28),t(4)),s=t(10),u=t(6),l=t(5),b=t(7),d=(t(29),t(30),t(51)),h=t(19),f=t(11),w=t(16);f.b.add(w.b,w.a);var v=function(e){function n(e){var t;return Object(o.a)(this,n),(t=Object(u.a)(this,Object(l.a)(n).call(this,e))).state={price:e.price||0,last_price:e.price||0,is_up:!0},t.exchange=e.exchange,t.exchange.newPriceEvent=function(e){t.tickUpdate(e)},t.componentDidMount=function(){t.exchange.registerCallbacks()},t}return Object(b.a)(n,e),Object(s.a)(n,[{key:"tickUpdate",value:function(e){this.setState((function(n,t){return{last_price:n.price,price:e,is_up:n.price>e}}))}},{key:"render",value:function(){return r.a.createElement(d.a,{item:!0,className:"price-row"},r.a.createElement("div",{className:"exchange"}," ",this.exchange.name),r.a.createElement("div",{className:"price ".concat(this.state.is_up?"up":"down")},r.a.createElement("span",null,r.a.createElement(h.a,{icon:this.state.is_up?"chevron-up":"chevron-down"})),r.a.createElement("span",null," ",this.state.price.toFixed(2))),r.a.createElement("div",{className:"ticker"},r.a.createElement("small",null,this.exchange.ticker)))}}]),n}(r.a.Component);function p(){var e;(e=console).log.apply(e,arguments)}var m=function(){function e(){var n=this;Object(o.a)(this,e),this.registerCallbacks=function(){n.ws=new WebSocket(n.getWSProtocol()+n.url),n.ws.onopen=function(){n.wsSubscribeTicker(n.ws),p(n.name+" :","Connected")},n.ws.onclose=function(){n.wsUnsubscribe(n.ws),p(n.name+" :","Disconnected.")},n.ws.onmessage=function(e){try{n.onResponse(e)}catch(t){console.log(t),n.ws.close()}},n.ws.onerror=function(){n.ws.close()},p("Callbacks registered.")},this.wsSubscribeTicker=this._notOverriden,this.wsUnsubscribe=this._notOverriden,this.newPriceEvent=this._notOverriden,this.onResponse=this._notOverriden}return Object(s.a)(e,[{key:"getWSProtocol",value:function(){return"wss://"}},{key:"_notOverriden",value:function(){throw new Error("Method not overriden.")}}]),e}(),g=function(e){function n(){var e,t;Object(o.a)(this,n);for(var i=arguments.length,r=new Array(i),c=0;c<i;c++)r[c]=arguments[c];return(t=Object(u.a)(this,(e=Object(l.a)(n)).call.apply(e,[this].concat(r)))).url="www.bitmex.com/realtime?subscribe=instrument:XBTUSD",t.name="Bitmex",t.ticker="XBTUSD",t.wsSubscribeTicker=function(){},t.wsUnsubscribe=function(){t.ws.send(JSON.stringify({op:"unsubsribe",args:"instrument"}))},t.onResponse=function(e){var n,i=JSON.parse(e.data),r=i.data?null===(n=i.data[0])||void 0===n?void 0:n.lastPrice:void 0;void 0!==r&&t.newPriceEvent(r)},t}return Object(b.a)(n,e),n}(m),O=function(e){function n(){var e,t;Object(o.a)(this,n);for(var i=arguments.length,r=new Array(i),c=0;c<i;c++)r[c]=arguments[c];return(t=Object(u.a)(this,(e=Object(l.a)(n)).call.apply(e,[this].concat(r)))).url="api-pub.bitfinex.com/ws/2",t.name="Bitfinex",t.ticker="tBTCUSD",t.subscribeMsg=JSON.stringify({event:"subscribe",channel:"trades",symbol:t.ticker}),t.wsSubscribeTicker=function(){t.ws.send(t.subscribeMsg)},t.wsUnsubscribe=function(){},t.onResponse=function(e){var n=JSON.parse(e.data);(null===n||void 0===n?void 0:n.length)>=3&&n[2].length>=4&&t.newPriceEvent(n[2][3])},t}return Object(b.a)(n,e),n}(m),k=function(e){function n(){var e,t;Object(o.a)(this,n);for(var i=arguments.length,r=new Array(i),c=0;c<i;c++)r[c]=arguments[c];return(t=Object(u.a)(this,(e=Object(l.a)(n)).call.apply(e,[this].concat(r)))).url="stream.binance.com:9443/ws/btcusdt@trade",t.name="Binance",t.ticker="BTCUSDT",t.wsSubParam=t.ticker.toLowerCase()+"@trade",t.wsSubPriceJSON=JSON.stringify({method:"SUBSCRIBE",params:[t.wsSubParam],id:1}),t.wsUnsubPriceJSON=JSON.stringify({method:"UNSUBSCRIBE",params:[t.wsSubParam],id:312}),t.wsSubscribeTicker=function(){},t.wsUnsubscribe=function(){t.ws.send(t.wsUnsubPriceJSON)},t.onResponse=function(e){var n=JSON.parse(e.data);"trade"===(null===n||void 0===n?void 0:n.e)&&t.newPriceEvent(Number(null===n||void 0===n?void 0:n.p)?Number(null===n||void 0===n?void 0:n.p):0)},t}return Object(b.a)(n,e),n}(m),S=function(e){function n(){var e,t;Object(o.a)(this,n);for(var i=arguments.length,r=new Array(i),c=0;c<i;c++)r[c]=arguments[c];return(t=Object(u.a)(this,(e=Object(l.a)(n)).call.apply(e,[this].concat(r)))).url="api2.poloniex.com",t.name="Poloniex",t.ticker="USDT_BTC",t.wsSubscribeTicker=function(){t.ws.send(JSON.stringify({command:"subscribe",channel:t.ticker}))},t.wsUnsubscribe=function(){t.ws.send(JSON.stringify({command:"unsubscribe",channel:t.ticker}))},t.onResponse=function(e){for(var n=JSON.parse(e.data)[2],i=0;i<n.length;i++){var r=n[i];if("t"===r[0]){t.newPriceEvent(Number(r[3])||0);break}}},t}return Object(b.a)(n,e),n}(m),y=[r.a.createElement(v,{key:"Bitmex",exchange:new g}),r.a.createElement(v,{key:"Bitfinex",exchange:new O}),r.a.createElement(v,{key:"Binance",exchange:new k}),r.a.createElement(v,{key:"Poloniex",exchange:new S})],j=t(52),E=function(e){function n(){return Object(o.a)(this,n),Object(u.a)(this,Object(l.a)(n).apply(this,arguments))}return Object(b.a)(n,e),Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement(j.a,{className:"App"},r.a.createElement(d.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center"},y))}}]),n}(r.a.Component),x=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function N(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}a.a.render(r.a.createElement(E,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("","/service-worker.js");x?(!function(e,n){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var i=t.headers.get("content-type");404===t.status||null!=i&&-1===i.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):N(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):N(n,e)}))}}()}},[[23,1,2]]]);
//# sourceMappingURL=main.ff0fc576.chunk.js.map